# Порядок запуска тестов

В системе присутствуют два видо тестов:  
1. Функциональные тесты (находятся в папке tests корня проекта), которые проверяют работоспособность и доступность сервиса по http.
2. Тесты проверяющие работоспособность классов самого сервиса (находятся в папке src/tests): FilmService, DataStore, Cache, ElasticStorage, RedisStorage.

Тесты можно запустить двумя способами локально (venv) и с помощью docker-compose.  

Для локального запуска, в виртуальном окружении функциональных тестов python venv,  необходимо выполнить команду ```./functestlocal.sh``` в корне проекта (запустят всю систему в docker).  

Для запуска тестов проверяющих сервис необходимо выполнить команду ```./clientapiscinematest.sh```, тесты запустятся в docker контейнере.  

Для запуска тестов проверяющих сервис необходимо выполнить команду ```./testclientapilocal.sh```, тесты запустятся в окружении venv (запустят контейнеры redis и elastic).  

Для всех тестов в контейнере docker необходимо выполнить команду ```./start_test.sh```.  

Для остановки ```./stop_test.sh```  

Переменные окружения беруться из основного файла .env в корне проекта.  

Дополнительно присутствуют следующие скрипты:
1. ```./redisconnect``` - позволяет подключиться к базе redis.
2. ```./testsloop.sh``` - перезапускает тесты классов, при любом изменении файлов *.py в каталоге src.
3. ```./restartloop.sh``` - перезапускает сервис clientapicinema при любом изменении файлов *.py в каталоге src.
